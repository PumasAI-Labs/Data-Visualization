---
title: Reference Sheets for Pumas-AI Data Visualization Workshop 
---

[![CC BY-SA 4.0](https://img.shields.io/badge/License-CC%20BY--SA%204.0-lightgrey.svg)](http://creativecommons.org/licenses/by-sa/4.0/)

## Key Points

- To use `AlgebraOfGraphics.jl` (`AoG.jl`), it is necessary to load a `Makie.jl` backend, with `CairoMakie.jl` being the one that most users will likely want to 
use.
- A plot in `AoG.jl` is constructed by combining three layers: `data`, `mapping`, and `visual`.
- The `draw` function is used to display a plot.
- The plot navigator in VS Code (in JuliaHub) allows users to preview and save the plots generated by a `draw` call.
- The `mapping` function enables the incorporation of additional variables into a plot through styling elements such as color or marker shape.
- When dealing with a categorical variable that uses numbers for encoding in `mapping`'s keyword arguments (`color`, `marker`, etc.), the `nonnumeric` keyword 
should be used to instruct `AoG.jl` to interpret it as a categorical variable; otherwise, it will treat it as a continuous variable or throw an error.
- Subplots can be created from a categorical variable (faceting) using the keyword arguments `col`, `row`, and `layout` within a `mapping` call.
- `AoG.jl` supports various types of plots (geometries), which can be found in [`Makie.jl`'s documentation](https://docs.makie.org/stable/examples/plotting_functions/index.html#plotting_functions).
- `AoG.jl` provides built-in functions that reduce the need for data wrangling or additional operations to generate commonly used plots. Examples include 
`histogram`, used to create histograms, and `linear`, used to perform a linear regression and plot the results.
- The `+` operator can be used to superimpose layers in plots.
- Both `*` and `+` adhere to the distributive law, enabling the creation of complex plots with a concise syntax. For instance, you can define multiple `visual`s 
for the same `data` and `mapping` with `data_layer * mapping_layer * (visual1 + visual2 + visual3)` instead of defining the three plots separately and then 
adding them together.
- By default, `AoG.jl` uses the column names from the dataset as axis labels, but users can customize them within the `mapping` call using the `Pair` syntax (e.g., 
`:column_name => "display name"`). The same customization can be applied for legend and faceting titles.
- Axis customization options can be passed through the `axis` keyword argument of `draw`. `axis` can take any of the [customization options for the `Axis` 
object of `Makie.jl`](https://docs.makie.org/stable/api/#Axis) as a `NamedTuple` (e.g., `axis = (; kwarg1=val1, kwarg2=val2, ...)`).
- Customization options for `Figure` can also be specified through a `NamedTuple` and the `figure` keyword argument from `draw`. Legends can be customized using 
the `legend` keyword argument.
- Users can specify a custom color palette for plots using the `palettes` keyword argument in the `draw` function.
- Specific customization options for a particular geometry can be applied inside a `visual` call by passing supported keyword arguments for that geometry (e.g., 
`visual(Lines; linestyle=:dash, color=:red)`). While some keyword arguments like `color` are supported by many geometries, others are specific to certain types 
of plots, such as `show_notch` for box plots.
- The `renamer` function allows users to customize the display values used to encode a categorical variable. When using `renamer`, `nonnumeric` is not needed.

## Summary of Basic Commands

| Action                                     | Command                   | Observations                                                              |
|--------------------------------------------|---------------------------|---------------------------------------------------------------------------|
| Create a data layer | `data` | Used to specify the dataset that will be used to generate the plot. Usually used as `data(<DataFrame>)` |
| Create a mapping layer | `mapping` | Determines how the data will be used in the plot |
| Create a visual layer | `visual` | Determines the type of plot that will be created |
| Combine several `AoG.jl` layers | `*` | Layers are combined by "multiplying" them (e.g., `plt = data_layer * mapping_layer * visual_layer`) |
| Display an `AoG.jl` plot | `draw` | `draw` can also contain many important customization options, such as `figure` and `axis` |
| Avoid that a categorical variable encoded with numbers will be interpreted as a continuous variable | `nonnumeric` | Used inside of a `mapping` call with `Pair` syntax (e.g., `kwarg = :column_name => nonnumeric`) |
| Apply faceting by columns | `col` | Used as a keyword argument inside of a `mapping` call |
| Apply faceting by rows | `row` | Used as a keyword argument inside of a `mapping` call |
| Create a grid of subplots | `layout` | Used as a keyword argument inside of a `mapping` call |
| Specify a geometry for a plot | `visual(<geometry>)` | `Makie.jl` supports an *extensive* list of geometries, which can be found in [their documentation](https://docs.makie.org/stable/examples/plotting_functions/index.html#plotting_functions) |
| Superimpose layers | `+` | Used in the same way as when adding numbers (e.g., `plt = plt1 + plt2`) |
| Customize the display name for axis labels and legend and faceting titles | `:column_name => "display name"` | Used inside of a `mapping` call |
| Use a custom color palette | `palettes = (; color=[<list of colors>])` | You can use one of Julia's [named colors](https://juliagraphics.github.io/Colors.jl/stable/namedcolors/) or [specify them in a variety of formats](https://juliagraphics.github.io/Colors.jl/stable/constructionandconversion/#Color-Parsing) such as RGB and Hex codes |
| Change a categorical variable's encoding values (just for display) | `renamer` | `renamer` can receive a series of `Pair`s specifying the dataset encoding value and the desired display name (e.g., `renamer(:val1 => "display value 1", :val2 => "display value 2")`) |
| Add customization options specific to a geometry | `visual(<geometry>; kwargs)` | The accepted values for `kwargs` will depend on the type of plot that is being customized |


## Glossary

`Makie.jl`

: A popular and powerful data visualization backend in Julia.

Grammar of Graphics

: The Grammar of Graphics is a versatile approach to data visualization, where plots are constructed using algebraic expressions. It allows for flexible 
creation of visuals by specifying data, aesthetics, and geometric elements as modular components.

`AlgebraOfGraphics.jl` (`AoG.jl`)

: A plotting library built on top of `Makie.jl` that aims to provide a simple language for data visualization. Its syntax is inspired by the **Grammar of 
Graphics** concept and is similar to R's `ggplot2`.

Layer

: The building blocks of an `AoG.jl` plot, which commonly includes three layers: `data`, `mapping`, and `visual`.

Faceting

: A term used to refer to the act of splitting a plot into several subplots. `AoG.jl` supports faceting by columns, rows, and creating a grid of subplots 
automatically.

Geometries

: The different types of plots that can be created with `AoG.jl`, such as scatter plots, bar plots, violin plots, etc.

## Get in touch

If you have any suggestions or want to get in touch with our education team,
please send an email to <training@pumas.ai>.

## License

This content is licensed under [Creative Commons Attribution-ShareAlike 4.0 International](http://creativecommons.org/licenses/by-sa/4.0/).

[![CC BY-SA 4.0](https://licensebuttons.net/l/by-sa/4.0/88x31.png)](http://creativecommons.org/licenses/by-sa/4.0/)
